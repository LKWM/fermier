<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë³´ ë†ë¶€ ì§„ìˆ˜ - 10ì¥</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR:wght@300;400;500;700&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Gowun Dodum', 'Noto Sans KR', sans-serif; -webkit-font-smoothing: antialiased; }
        .app-container { font-family: 'Gowun Dodum', 'Noto Sans KR', sans-serif; }
        .font-bold { font-weight: 700; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
    </style>
</head>
<body class="bg-neutral-50 text-slate-800">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const ChevronLeft = ({ size = 24, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m15 18-6-6 6-6"/></svg>);
        const ChevronRight = ({ size = 24, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>);
        const RotateCcw = ({ size = 24, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>);
        const Volume2 = ({ size = 24, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>);
        const Pause = ({ size = 24, className }) => (<svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>);

        // --- Configuration ---
        const AUDIO_PATHS = {
            // Specified Sound Effects
            page_turn: 'https://assets.mixkit.co/active_storage/sfx/2578/2578-preview.mp3',
            lesson_finish: 'https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3',
            
            // Content Audio (Provided Links)
            chapter_10: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261709/Chapter_10_c3ohxu.mp3',
            sentence_47: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261713/Sentence_47_oudj66.mp3',
            sentence_48: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261729/Sentence_48_e4xilq.mp3',
            sentence_49: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261723/Sentence_49_eveojw.mp3',
            sentence_50: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261746/Sentence_50_r4rdqk.mp3',
            sentence_51: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261756/Sentence_51_bpfs02.mp3',
            sentence_52: 'https://res.cloudinary.com/de76i94ia/video/upload/v1765261799/Sentence_52_xxblxy.mp3',
            
            // Narration (Empty as requested)
            narration_10: '', 
        };

        const BOOK_TITLE = "ì´ˆë³´ ë†ë¶€ ì§„ìˆ˜ (Jinsu, le fermier dÃ©butant)";
        const CHAPTER_TITLE = "ì œ 10ì¥: ë‚˜ëˆ” (Le partage)";
        const SUBTITLE = "ì´ ë ˆìŠ¨ì—ëŠ” í´ë¡œë°”ë”ë¹™ì˜ AI ë³´ì´ìŠ¤ê°€ ì‚¬ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.";
        const WORD_COLORS = ["text-blue-600","text-red-600","text-purple-600","text-orange-600","text-teal-600","text-indigo-600"];

        const pages = [
            { type: "cover", title: BOOK_TITLE, subTitle: CHAPTER_TITLE },
            { type: "full_text", content: "ì§„ìˆ˜ëŠ” íšŒì‚¬ì— ì±„ì†Œë¥¼ ê°€ì ¸ê°€ìš”. ë™ë£Œë“¤ì—ê²Œ ì¡°ê¸ˆì”© ë‚˜ëˆ  ì¤˜ìš”. \"ì§„ìˆ˜ ì”¨ê°€ ì§ì ‘ í‚¤ì› ì–´ìš”? ì •ë§ ë§›ìˆì–´ìš”!\" ì¹­ì°¬ì„ ë“¤ìœ¼ë‹ˆ í”¼ê³¤í•¨ì´ ì‚¬ë¼ì ¸ìš”. ë•€ì„ í˜ë¦° ë³´ëŒì´ ìˆì–´ìš”. ë‚´ë…„ì—ëŠ” ê³ ì¶”ë„ ì‹¬ì–´ë³¼ ê±°ì˜ˆìš”.", audio: "chapter_10" },
            { type: "section_title", title: "í•œ ë¬¸ì¥ì”© ì½ì–´ ë³¼ê¹Œìš”?" },
            // Sentence 47
            { type: "translate", text: "ì§„ìˆ˜ëŠ” íšŒì‚¬ì— ì±„ì†Œë¥¼ ê°€ì ¸ê°€ìš”.", audio: "sentence_47", transNat: "Jinsu apporte les lÃ©gumes au travail.", transLit: "Jinsu apporte les lÃ©gumes Ã  l'entreprise." },
            { type: "analysis", text: "ì§„ìˆ˜ëŠ” [íšŒì‚¬]<bd>ì—</bd> [ì±„ì†Œ]ë¥¼ <bd>[ê°€ì ¸ê°€ìš”]</bd>.", transLit: "Jinsu apporte les lÃ©gumes Ã  l'entreprise.", audio: "sentence_47", showButton: true, vocab: [{ word: "íšŒì‚¬", meaning: "entreprise" }, { word: "ì±„ì†Œ", meaning: "lÃ©gume" }, { word: "ê°€ì ¸ê°€ë‹¤", meaning: "apporter" }], explanation: { kr: "â€œê°€ì ¸ê°€ë‹¤â€ëŠ” ì´ë™ì„ ë‚˜íƒ€ë‚´ëŠ” ë™ì‚¬ë¡œ ëª©ì ì§€ë¥¼ ë‚˜íƒ€ë‚¼ ë•ŒëŠ” ì¡°ì‚¬ â€œ-ì—â€ë¥¼ ì‚¬ìš©í•´ìš”.", fr: "â€œê°€ì ¸ê°€ë‹¤â€ est un verbe de mouvement. Pour indiquer la destination, on utilise la particule â€œ-ì—â€." } },
            // Sentence 48
            { type: "translate", text: "ë™ë£Œë“¤ì—ê²Œ ì¡°ê¸ˆì”© ë‚˜ëˆ ì¤˜ìš”.", audio: "sentence_48", transNat: "Il les partage avec chacun de ses collÃ¨gues.", transLit: "Il distribue petit Ã  petit aux collÃ¨gues." },
            { type: "analysis", text: "[ë™ë£Œ]ë“¤<bd>ì—ê²Œ</bd> [ì¡°ê¸ˆì”©] [ë‚˜ëˆ ì¤˜ìš”].", transLit: "Il distribue petit Ã  petit aux collÃ¨gues.", audio: "sentence_48", showButton: true, vocab: [{ word: "ë™ë£Œ", meaning: "collÃ¨gue" }, { word: "ì¡°ê¸ˆì”©", meaning: "petit Ã  petit" }, { word: "ë‚˜ëˆ ì£¼ë‹¤", meaning: "distribuer" }], explanation: { kr: "â€œë™ë£Œë“¤â€ì€ ë™ì‚¬ â€œë‚˜ëˆ ì£¼ë‹¤â€ì˜ ëŒ€ìƒì´ë¯€ë¡œ ì¡°ì‚¬ â€œ-ì—ê²Œ\"ë¥¼ ì‚¬ìš©í•´ìš”.", fr: "â€œë™ë£Œë“¤â€ (collÃ¨gues) Ã©tant le destinataire de l'action â€œë‚˜ëˆ ì£¼ë‹¤â€ (distribuer), on utilise la particule â€œ-ì—ê²Œâ€." } },
            // Sentence 49
            { type: "translate", text: "\"ì§„ìˆ˜ ì”¨ê°€ ì§ì ‘ í‚¤ì› ì–´ìš”? ì •ë§ ë§›ìˆì–´ìš”!\"", audio: "sentence_49", transNat: "Â« C'est vous qui les avez cultivÃ©s, Jinsu ? C'est trÃ¨s bon ! Â»", transLit: "Â« Monsieur Jinsu a cultivÃ© lui-mÃªme ? C'est vraiment dÃ©licieux ! Â»" },
            { type: "analysis", text: "\"<bd>ì§„ìˆ˜ ì”¨</bd>ê°€ [ì§ì ‘] [í‚¤ì› ì–´]ìš”? [ì •ë§] [ë§›ìˆì–´ìš”]!\"", transLit: "Â« Monsieur Jinsu a cultivÃ© lui-mÃªme ? C'est vraiment dÃ©licieux ! Â»", audio: "sentence_49", showButton: true, vocab: [{ word: "ì§ì ‘", meaning: "soi-mÃªme" }, { word: "í‚¤ìš°ë‹¤", meaning: "cultiver" }, { word: "ì •ë§", meaning: "trÃ¨s" }, { word: "ë§›ìˆë‹¤", meaning: "Ãªtre dÃ©licieux" }], explanation: { kr: "ì¡´ëŒ“ë§ì—ì„œëŠ” ìƒëŒ€ë¥¼ ì§€ì¹­í•˜ëŠ” 2ì¸ì¹­ ëŒ€ëª…ì‚¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ìš”. ëŒ€ì‹  ìƒëŒ€ì˜ ì´ë¦„ì´ë‚˜ ì§í•¨ ë“±ìœ¼ë¡œ ì£¼ì–´ë¥¼ ëŒ€ì‹ í•´ìš”. ì´ ë¬¸ì¥ì€ ì§„ìˆ˜ ì”¨ì—ê²Œ ì§ì ‘ ì§ˆë¬¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆì–´ìš”.", fr: "En corÃ©en formel, on n'utilise pas le pronom â€œtuâ€ ou â€œvousâ€. On remplace le sujet par le nom ou le titre de la personne. Ici, on comprend que la question est posÃ©e directement Ã  Jinsu." } },
            // Sentence 50
            { type: "translate", text: "ì¹­ì°¬ì„ ë“¤ìœ¼ë‹ˆ í”¼ê³¤í•¨ì´ ì‚¬ë¼ì ¸ìš”.", audio: "sentence_50", transNat: "En entendant les compliments, sa fatigue disparaÃ®t.", transLit: "Comme il entend le compliment, la fatigue disparaÃ®t." },
            { type: "analysis", text: "[ì¹­ì°¬]ì„ <bd>[ë“¤ìœ¼]ë‹ˆ</bd> [í”¼ê³¤í•¨]ì´ [ì‚¬ë¼ì ¸ìš”].", transLit: "Comme il entend le compliment, la fatigue disparaÃ®t.", audio: "sentence_50", showButton: true, vocab: [{ word: "ì¹­ì°¬", meaning: "compliment" }, { word: "ë“£ë‹¤", meaning: "Ã©couter" }, { word: "í”¼ê³¤í•¨", meaning: "fatigue" }, { word: "ì‚¬ë¼ì§€ë‹¤", meaning: "disparaÃ®tre" }], explanation: { kr: "â€œ-(ìœ¼)ë‹ˆâ€ëŠ” â€œ-(ìœ¼)ë‹ˆê¹Œâ€ì—ì„œ â€œê¹Œâ€ê°€ ìƒëµëœ í˜•íƒœë¡œ ì•, ë’¤ ë¬¸ì¥ì˜ ì¸ê³¼ê´€ê³„ë¥¼ ë‚˜íƒ€ë‚´ìš”.", fr: "â€œ-(ìœ¼)ë‹ˆâ€ est une forme abrÃ©gÃ©e de â€œ-(ìœ¼)ë‹ˆê¹Œâ€ (sans â€œê¹Œâ€) et exprime une relation de cause Ã  effet entre les deux propositions." } },
            // Sentence 51
            { type: "translate", text: "ë•€ì„ í˜ë¦° ë³´ëŒì´ ìˆì–´ìš”.", audio: "sentence_51", transNat: "Cela valait la peine de transpirer.", transLit: "Il y a le mÃ©rite d'avoir versÃ© de la sueur." },
            { type: "analysis", text: "[ë•€]ì„ [í˜ë¦°] <bd>[ë³´ëŒ]ì´ ìˆì–´ìš”</bd>.", transLit: "Il y a le mÃ©rite d'avoir versÃ© de la sueur.", audio: "sentence_51", showButton: true, vocab: [{ word: "ë•€", meaning: "sueur" }, { word: "í˜ë¦¬ë‹¤", meaning: "verser" }, { word: "ë³´ëŒ", meaning: "sens de lâ€™accomplissement" }], explanation: { kr: "â€œë³´ëŒì´ ìˆë‹¤â€ëŠ” í•œ ì¼ì— ëŒ€í•˜ì—¬ ëŒì•„ì˜¤ëŠ” ì¢‹ì€ ê²°ê³¼ë‚˜ ê·¸ ì¼ì— ëŒ€í•œ ë§Œì¡±ê°ì´ ìˆë‹¤ëŠ” ëœ»ì˜ í‘œí˜„ì´ì—ìš”.", fr: "â€œë³´ëŒì´ ìˆë‹¤â€ est une expression qui signifie ressentir de la satisfaction ou obtenir un bon rÃ©sultat suite Ã  une action." } },
            // Sentence 52
            { type: "translate", text: "ë‚´ë…„ì—ëŠ” ê³ ì¶”ë„ ì‹¬ì–´ë³¼ ê±°ì˜ˆìš”.", audio: "sentence_52", transNat: "L'annÃ©e prochaine, il essaiera de planter des piments.", transLit: "L'annÃ©e prochaine, il essaiera aussi de planter du piment." },
            { type: "analysis", text: "[ë‚´ë…„]ì—ëŠ” [ê³ ì¶”]ë„ [ì‹¬]<bd>ì–´ë³¼</bd> ê±°ì˜ˆìš”.", transLit: "L'annÃ©e prochaine, il essaiera aussi de planter du piment.", audio: "sentence_52", showButton: true, vocab: [{ word: "ë‚´ë…„", meaning: "annÃ©e prochaine" }, { word: "ê³ ì¶”", meaning: "piment" }, { word: "ì‹¬ë‹¤", meaning: "planter" }], explanation: { kr: "â€œ-ì•„/ì–´ë³´ë‹¤â€ëŠ” â€œì‹œë„í•˜ë‹¤â€™ë¼ëŠ” ëœ»ìœ¼ë¡œ ë‹¤ì§ì´ë‚˜ í™•ì‹¤í•˜ì§€ ì•Šì€ ê³„íšì„ ë§í•  ë•Œ ìì£¼ ì‚¬ìš©í•´ìš”.", fr: "â€œ-ì•„/ì–´ë³´ë‹¤â€ signifie â€œessayerâ€ et est souvent utilisÃ© pour exprimer une rÃ©solution ou un plan incertain." } },
            
            { type: "section_title", title: "ì´ì œ ì´ì•¼ê¸°ë¥¼ ë‹¤ì‹œ í•œ ë²ˆ ë“¤ì–´ ë³´ì„¸ìš”." },
            // Review Page (Index 16)
            { type: "review", audio: "chapter_10", sentences: [
                { text: "ì§„ìˆ˜ëŠ” íšŒì‚¬ì— ì±„ì†Œë¥¼ ê°€ì ¸ê°€ìš”.", targetIndex: 4 },
                { text: "ë™ë£Œë“¤ì—ê²Œ ì¡°ê¸ˆì”© ë‚˜ëˆ ì¤˜ìš”.", targetIndex: 6 },
                { text: "ì§„ìˆ˜ ì”¨ê°€ ì§ì ‘ í‚¤ì› ì–´ìš”? ì •ë§ ë§›ìˆì–´ìš”!", targetIndex: 8 },
                { text: "ì¹­ì°¬ì„ ë“¤ìœ¼ë‹ˆ í”¼ê³¤í•¨ì´ ì‚¬ë¼ì ¸ìš”.", targetIndex: 10 },
                { text: "ë•€ì„ í˜ë¦° ë³´ëŒì´ ìˆì–´ìš”.", targetIndex: 12 },
                { text: "ë‚´ë…„ì—ëŠ” ê³ ì¶”ë„ ì‹¬ì–´ë³¼ ê±°ì˜ˆìš”.", targetIndex: 14 }
            ] },
            // Outro Page (Index 17)
            { type: "outro", text: "ì´ì•¼ê¸°ëŠ” ì—¬ê¸°ê¹Œì§€ì˜ˆìš”. ì§„ìˆ˜ì˜ ì´ì•¼ê¸°ê°€ ì¬ë¯¸ìˆì—ˆë‚˜ìš”? ë§ˆì§€ë§‰ ìˆ˜ì—…ì—ì„œ ì§€ê¸ˆê¹Œì§€ ë°°ìš´ ë‹¨ì–´ì™€ í‘œí˜„ë“¤ì„ ë³µìŠµí•´ ë³´ì„¸ìš”!", audio: "narration_10" }
        ];

        const StyledText = ({ text }) => {
            const regex = /(<bd>.*?<\/bd>|\[.*?\])/g;
            const parts = text.split(regex);
            let bracketCounter = 0;
            return (<span className="break-keep inline-block">{parts.map((part, i) => {
                if (part.startsWith("<bd>")) {
                    const content = part.replace(/<\/?bd>/g, "");
                    if (content.includes("[")) {
                        const subParts = content.split(/(\[.*?\])/g);
                        return (<span key={i} className="font-bold">{subParts.map((sub, j) => {
                            if(sub.startsWith("[")) { const word = sub.replace(/[\[\]]/g, ""); const colorClass = WORD_COLORS[bracketCounter % WORD_COLORS.length]; bracketCounter++; return <span key={j} className={colorClass}>{word}</span> }
                            return sub;
                        })}</span>)
                    }
                    return <b key={i} className="font-bold">{content}</b>;
                } else if (part.startsWith("[")) {
                    const content = part.replace(/[\[\]]/g, ""); const colorClass = WORD_COLORS[bracketCounter % WORD_COLORS.length]; bracketCounter++; return <span key={i} className={`font-medium ${colorClass}`}>{content}</span>;
                } else { return part; }
            })}</span>);
        };

        const AudioButton = ({ id }) => {
            const [playing, setPlaying] = useState(false);
            const audioRef = useRef(null);
            const toggle = () => {
                if (!AUDIO_PATHS[id]) return;
                if (playing) { if (audioRef.current) { audioRef.current.pause(); audioRef.current.currentTime = 0; } setPlaying(false); } 
                else { setPlaying(true); if (!audioRef.current) { audioRef.current = new Audio(AUDIO_PATHS[id]); audioRef.current.onended = () => setPlaying(false); audioRef.current.onerror = () => setPlaying(false); } audioRef.current.play().catch(e => setPlaying(false)); }
            };
            return (<button onClick={toggle} className={`flex items-center justify-center w-12 h-12 rounded-full transition-all shadow-md mx-auto ${playing ? 'bg-green-600 text-white scale-110' : 'bg-white text-green-700 border border-green-200 hover:bg-green-50'}`}>{playing ? <Pause size={24} /> : <Volume2 size={24} />}</button>);
        };

        const App = () => {
            const [pageIndex, setPageIndex] = useState(0);
            const [returnIndex, setReturnIndex] = useState(null);
            const autoPlayRef = useRef(null);
            const currentPage = pages[pageIndex];

            const playPageTurnSound = () => { if (AUDIO_PATHS.page_turn) { const audio = new Audio(AUDIO_PATHS.page_turn); audio.volume = 0.3; audio.play().catch(() => {}); } };

            const goNext = () => {
                if (pageIndex < pages.length - 1) {
                    if (pageIndex === 16) { // Index 16 (Review) -> Outro (17)
                        if (AUDIO_PATHS.lesson_finish) { const audio = new Audio(AUDIO_PATHS.lesson_finish); audio.volume = 0.5; audio.play().catch(() => {}); }
                        if (window.parent) { window.parent.postMessage({ type: 'lesson_complete' }, '*'); }
                    } else { playPageTurnSound(); }
                    setPageIndex(prev => prev + 1);
                }
            };
            const goPrev = () => { if (pageIndex > 0) { playPageTurnSound(); setPageIndex(prev => prev - 1); } };
            const goReturn = () => { if (returnIndex !== null) { playPageTurnSound(); setPageIndex(returnIndex); setReturnIndex(null); } };
            const jumpToPage = (targetIdx) => { playPageTurnSound(); setReturnIndex(pageIndex); setPageIndex(targetIdx); };

            useEffect(() => {
                if (autoPlayRef.current) { autoPlayRef.current.pause(); autoPlayRef.current = null; }
                if (currentPage.audio && AUDIO_PATHS[currentPage.audio] && currentPage.type !== 'analysis') {
                    const timer = setTimeout(() => { const audio = new Audio(AUDIO_PATHS[currentPage.audio]); autoPlayRef.current = audio; audio.play().catch(() => {}); }, 1000);
                    return () => { clearTimeout(timer); if (autoPlayRef.current) autoPlayRef.current.pause(); };
                }
            }, [pageIndex, currentPage]);

            const renderContent = () => {
                switch (currentPage.type) {
                    case "cover": return (<div className="flex flex-col items-center justify-center h-full text-center space-y-10 animate-fadeIn p-4 w-full"><div className="w-28 h-28 bg-green-100 rounded-full flex items-center justify-center text-5xl shadow-inner mb-4">ğŸŒ±</div><div className="space-y-6"><h1 className="text-3xl md:text-5xl font-extrabold text-green-900 leading-tight">{currentPage.title}</h1><h2 className="text-xl md:text-3xl font-light text-green-800">{currentPage.subTitle}</h2><p className="text-xs text-slate-400 mt-8 font-light">{SUBTITLE}</p></div></div>);
                    case "full_text": return (<div className="flex flex-col justify-center items-center h-full animate-fadeIn w-full"><div className="bg-white/60 p-8 md:p-12 rounded-3xl shadow-sm border border-green-50 w-full max-w-4xl"><p className="text-xl md:text-4xl text-slate-800 font-medium break-keep text-center leading-[2.2] md:leading-[2.5]">{currentPage.content}</p></div></div>);
                    case "section_title": return (<div className="flex flex-col items-center justify-center h-full text-center animate-fadeIn px-4 w-full"><h2 className="text-3xl md:text-5xl font-bold text-green-800 break-keep leading-snug">{currentPage.title}</h2></div>);
                    case "translate": return (<div className="flex flex-col justify-center items-center h-full animate-fadeIn w-full max-w-4xl mx-auto space-y-12"><div className="text-center w-full pb-8 border-b border-green-200"><p className="text-2xl md:text-4xl font-bold text-slate-800 break-keep leading-relaxed">{currentPage.text}</p></div><div className="w-full flex flex-col gap-10 items-center"><div className="flex flex-col items-center gap-4"><span className="text-sm font-bold text-green-600 uppercase tracking-wider bg-green-50 px-3 py-1 rounded-full">Traduction Naturelle</span><p className="text-xl md:text-3xl text-slate-700 italic text-center font-light">{currentPage.transNat}</p></div><div className="flex flex-col items-center gap-4"><span className="text-sm font-bold text-green-600 uppercase tracking-wider bg-green-50 px-3 py-1 rounded-full">Traduction LittÃ©rale</span><p className="text-lg md:text-2xl text-slate-500 text-center">{currentPage.transLit}</p></div></div></div>);
                    case "analysis": return (<div className="flex flex-col justify-center items-center h-full animate-fadeIn w-full max-w-3xl mx-auto overflow-hidden"><div className="w-full flex flex-col max-h-full"><div className="flex-none py-6 text-center w-full border-b border-green-200 shrink-0"><div className="mb-6"><p className="text-base md:text-xl text-slate-500 text-center italic">{currentPage.transLit}</p></div><div className="text-2xl md:text-4xl mb-6 leading-relaxed"><StyledText text={currentPage.overrideText || currentPage.text} /></div>{currentPage.showButton && (<div className="mt-4"><AudioButton id={currentPage.audio} /></div>)}</div><div className="flex-1 overflow-y-auto min-h-0 pt-6 px-2 w-full flex flex-col items-center justify-center"><div className="space-y-8 w-full flex flex-col items-center"><div className="flex flex-wrap gap-3 justify-center">{currentPage.vocab.map((v, i) => (<div key={i} className="bg-white border border-green-100 px-4 py-2 rounded-xl text-base md:text-lg shadow-sm flex items-center gap-2"><span className={`font-bold ${WORD_COLORS[i % WORD_COLORS.length]}`}>{v.word}</span><span className="text-slate-300">|</span><span className="text-slate-600">{v.meaning}</span></div>))}</div><div className="bg-green-100/40 p-8 rounded-3xl border border-green-200 mx-auto w-full"><p className="text-slate-800 text-lg md:text-xl leading-relaxed mb-6 font-medium break-keep text-center">{currentPage.explanation.kr}</p><div className="border-t border-green-200/60 pt-6"><p className="text-slate-600 text-base md:text-lg leading-relaxed italic break-keep text-center">{currentPage.explanation.fr}</p></div></div></div></div></div></div>);
                    case "review": return (<div className="flex flex-col justify-center items-center h-full animate-fadeIn w-full max-w-3xl mx-auto overflow-hidden"><div className="w-full flex flex-col max-h-full justify-center"><div className="flex-none pb-8 text-center shrink-0"><p className="text-xl md:text-2xl text-green-800 font-bold mb-3 break-keep">ì–´ë ¤ìš´ ë¬¸ì¥ì„ í´ë¦­í•˜ë©´ ì„¤ëª…ì„ ë‹¤ì‹œ ë³¼ ìˆ˜ ìˆì–´ìš”!</p><p className="text-slate-500 text-sm md:text-base">Cliquez sur une phrase difficile pour revoir l'explication.</p></div><div className="flex-1 overflow-y-auto pr-1 custom-scrollbar w-full flex flex-col items-center justify-center"><div className="space-y-4 w-full">{currentPage.sentences.map((item, i) => (<button key={i} onClick={() => jumpToPage(item.targetIndex)} className="w-full text-center bg-white hover:bg-green-50 p-5 md:p-6 rounded-2xl border border-slate-100 hover:border-green-300 transition-all group shadow-sm"><p className="text-slate-700 group-hover:text-green-800 text-lg md:text-2xl leading-relaxed break-keep">{item.text}</p></button>))}</div></div></div></div>);
                    case "outro": return (<div className="flex flex-col items-center justify-center h-full text-center space-y-10 animate-fadeIn p-4 w-full"><div className="w-24 h-24 bg-green-600 rounded-full flex items-center justify-center text-white mb-6 shadow-xl"><span className="text-4xl">ğŸŒ¿</span></div><p className="text-2xl md:text-4xl text-slate-800 leading-[2.5] font-medium max-w-3xl break-keep">{currentPage.text}</p></div>);
                    default: return <div>Error</div>;
                }
            };

            return (<div className="min-h-screen w-full flex flex-col app-container"><main className="flex-1 w-full max-w-6xl mx-auto p-4 md:p-8 flex flex-col justify-center items-center relative overflow-hidden h-[calc(100vh-80px)]">{renderContent()}</main><footer className="h-20 bg-white border-t border-green-100 flex items-center justify-between px-6 md:px-12 shrink-0 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-10"><div className="w-20 flex justify-start">{returnIndex === null && (<button onClick={goPrev} disabled={pageIndex === 0} className={`p-3 rounded-full transition-colors ${pageIndex === 0 ? 'opacity-0 cursor-default' : 'text-slate-500 hover:bg-slate-100 hover:text-green-600'}`}><ChevronLeft size={32} /></button>)}</div><div className="font-mono text-green-600 font-bold text-lg">{pageIndex > 0 ? `${pageIndex} / ${pages.length - 1}` : ""}</div><div className="w-20 flex justify-end">{returnIndex !== null ? (<button onClick={goReturn} className="p-3 bg-green-600 text-white rounded-full shadow-lg hover:bg-green-700 transition-all hover:scale-105"><RotateCcw size={24} /></button>) : (<button onClick={goNext} disabled={pageIndex === pages.length - 1} className={`p-3 rounded-full transition-colors ${pageIndex === pages.length - 1 ? 'opacity-0 cursor-default' : 'text-slate-500 hover:bg-slate-100 hover:text-green-600'}`}><ChevronRight size={32} /></button>)}</div></footer></div>);
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
